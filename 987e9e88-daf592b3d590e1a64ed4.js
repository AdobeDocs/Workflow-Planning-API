"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[298],{18356:function(e,n,t){t.d(n,{T4:function(){return R},X:function(){return V},f5:function(){return U},iJ:function(){return F},mn:function(){return E},oi:function(){return _},ok:function(){return M}});var r=t(54705),o=t(54506),l=t(10467),a=t(54756),i=t.n(a),s=t(88763),d=t(68424),c=t(32485),u=t.n(c),p=t(7256),f=t(94087),v=t(19243),g=t(22472),m=t(12953),h=t(71052),y=t(18035),b=t(35413),w=t(77126),x=t(91101);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,r.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,D=/^(?=[A-Za-z0-9\s]{6,}$)[A-Za-z0-9\s]*$/,k={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},C={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},S={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},j={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},z={name:"oq6u0f",styles:"display:flex;gap:10px"},P={name:"ftyx0c",styles:"display:flex;gap:24px;flex-direction:column;width:100%"},H={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},N={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},B={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"},F=function e(n){var t,r=n.formProps,a=n.credentialType,c=n.service,y=(0,s.useState)(!1),Y=y[0],F=y[1],T=(0,s.useState)(!1),L=T[0],I=T[1],q=(0,s.useState)({}),Z=q[0],J=q[1],$=(0,s.useState)(""),G=$[0],W=$[1],X=(0,s.useState)(!0),K=X[0],Q=X[1],ee=(0,s.useState)(!1),ne=ee[0],te=ee[1],re=(0,s.useState)([]),oe=re[0],le=re[1],ae=(0,s.useState)({}),ie=ae[0],se=ae[1],de=(0,s.useState)(!1),ce=de[0],ue=de[1],pe=(0,s.useState)(!1),fe=pe[0],ve=pe[1],ge=(0,s.useState)(!1),me=ge[0],he=ge[1],ye=(0,s.useState)(!1),be=ye[0],we=ye[1],xe=(0,s.useState)(!1),Ye=xe[0],Oe=xe[1],Ae=(0,s.useState)({}),De=Ae[0],ke=Ae[1],Ce=(0,s.useState)(!0),Se=Ce[0],je=Ce[1],ze=(0,s.useState)(""),Pe=ze[0],He=ze[1],Ne=(0,s.useContext)(x.Ay).ims,Be=null==r?void 0:r[e],Fe=null==Be||null===(t=Be.children)||void 0===t?void 0:t.filter((function(e){return Object.keys(e.props).some((function(e){return e.startsWith("contextHelp")}))})),Ee=function(){var e=(0,l.A)(i().mark((function e(){var n,t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===(n=localStorage)||void 0===n?void 0:n.getItem("OrgInfo"),e.next=3,(0,h.SA)(ke);case 3:r=e.sent,null===t?1===(null==r?void 0:r.length)&&je(!1):r&&(o=JSON.parse(t),je(1!==o.orgLen),ke(o)),r||(ke({}),Q(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){setTimeout((function(){Oe(!1)}),8e3)}),[Ye]),(0,s.useEffect)((function(){K&&I(!1)}),[K]),(0,s.useEffect)((function(){if(!ne&&K){var e=O({},ie);for(var n in e)e[n]="";se(e),we(!1)}}),[ne]),(0,s.useEffect)((function(){var e,n;e={},n={label:"Language",selectOptions:[]},null==Be||Be.children.forEach((function(t){var r,l=t.type,a=t.props;l===M&&null!=a&&a.children&&(n.required=a.required||!1,(r=n.selectOptions).push.apply(r,(0,o.A)([].concat(a.children).map((function(e){var n=e.props;return{title:n.title,href:n.href}})))),se((function(e){var n,t;return O(O({},e),Array.isArray(a.children)?null:{Download:null===(n=a.children)||void 0===n||null===(t=n.props)||void 0===t?void 0:t.title})}))),e[l]=O(O({},a),{},{required:l===V||(null==a?void 0:a.required)})})),n.selectOptions.length&&(e[U]=n,1===n.selectOptions.length&&se((function(e){var t,r;return O(O({},e),{},{Download:null===(t=n.selectOptions[0])||void 0===t?void 0:t.title,zipUrl:null===(r=n.selectOptions[0])||void 0===r?void 0:r.href})}))),le(e),Ee()}),[]),(0,s.useEffect)((function(){var e;if(De)if(De&&0!==(null===(e=Object.keys(De))||void 0===e?void 0:e.length))Q(!0);else{var n;0===(null===(n=Object.keys(De))||void 0===n?void 0:n.length)&&(ke(void 0),Q(!1))}else ke(void 0),Q(!1),I(!0)}),[De]),(0,s.useEffect)((function(){if(L){var e=O({},ie);for(var n in e)e[n]="";se(e)}}),[L]),(0,s.useEffect)((function(){var e,n,t,r,o=null===(e=Array.from((null==Be?void 0:Be.children)||[]).filter((function(e){var n;return(null==e||null===(n=e.props)||void 0===n?void 0:n.required)||e.type===V})))||void 0===e?void 0:e.map((function(e){return e.type})),l=D.test(ie.CredentialName)&&(null===(n=ie.CredentialName)||void 0===n?void 0:n.length)>=6,a=o.filter((function(e){return"AllowedOrigins"===e.name})),i=null===(t=ie.AllowedOrigins)||void 0===t?void 0:t.split(",").map((function(e){return A.test(e.trim())})),s=!a||(null==i?void 0:i.every((function(e){return!0===e})))&&void 0!==ie.AllowedOrigins&&0!==(null===(r=ie.AllowedOrigins)||void 0===r?void 0:r.length),d=l&&s&&!0===ie.Agree;he(d)}),[ie]),(0,s.useEffect)((function(){(0,l.A)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne||!Ne.isSignedInUser()){e.next=5;break}return e.next=3,Ne.getProfile();case 3:n=e.sent,He(null==n?void 0:n.email);case 5:case"end":return e.stop()}}),e)})))()}),[Ne]);var Te=function(e,n){var t="Downloads"===n||"Agree"===n?e.target.checked:e.target.value;if(se((function(e){var r;return O(O({},e),{},((r={})[n]=t,r))})),"Download"===n&&ie.Downloads){var r,o=null==oe||null===(r=oe[U])||void 0===r?void 0:r.selectOptions.find((function(n){return n.title===e.target.value}));o&&se((function(e){return O(O({},e),{},{zipUrl:o.href})}))}},Ve=function(){var e=(0,l.A)(i().mark((function e(){var n,t,r,o,l,s,d,u,p,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null===(n=window.adobeIMS)||void 0===n||null===(t=n.getTokenFromStorage())||void 0===t?void 0:t.token)||console.log("User not logged in"),F(!0),Q(!1),o={name:ie.CredentialName,platform:a,description:"created for get credential",domain:ie.AllowedOrigins,services:[{sdkCode:c}]},e.prev=5,e.next=8,fetch("/console/api/organizations/"+(null==De?void 0:De.id)+"/integrations/adobeid",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,"x-api-key":null===(l=window)||void 0===l||null===(s=l.adobeIMS)||void 0===s||null===(d=s.adobeIdData)||void 0===d?void 0:d.client_id},body:JSON.stringify(o)});case 8:return u=e.sent,e.next=11,u.json();case 11:p=e.sent,200===u.status?(J(p),te(!0),we(!0)):null!=p&&p.messages&&(we(!0),he(!1),W(null==p||null===(f=p.messages[0])||void 0===f?void 0:f.message),Q(!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),I(!0);case 18:return e.prev=18,F(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),_e=null==oe?void 0:oe[E],Le=null==oe?void 0:oe[V],Ie=null==oe?void 0:oe[_],qe=null==oe?void 0:oe[M],Me=null==oe?void 0:oe[U];return(0,d.Y)(s.default.Fragment,null,!fe&&K&&!Y&&De&&(0,d.Y)("div",{className:u()(null==Be?void 0:Be.className),css:B},(0,d.Y)("div",{css:(0,d.AH)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);width:100%;height:100%;text-align:left;@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){padding:0;width:100%;}","")},(null==Be?void 0:Be.title)&&(0,d.Y)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==Be?void 0:Be.title),(null==Be?void 0:Be.paragraph)&&(0,d.Y)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==Be?void 0:Be.paragraph),(0,d.Y)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:N},"You're creating this credential in  ","developer"===(null==De?void 0:De.type)?"in your personal developer organization":(0,d.Y)("span",null,"[",(0,d.Y)("b",null,null==De?void 0:De.name),"] "),".",Se&&(0,d.Y)("button",{tabIndex:"0",css:H,onClick:function(){return ue(!0)}},"Change organization?"))),(0,d.Y)("div",{css:(0,d.AH)("display:flex;gap:35px;@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){flex-direction:column;padding-left:0;}","")},(0,d.Y)("div",{css:(0,d.AH)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){width:100%;}","")},(0,d.Y)("div",{css:P},Le&&(0,d.Y)(V,{nameProps:Le,isFormValue:Fe,formData:ie,handleChange:Te}),Ie&&(0,d.Y)(_,{originsProps:Ie,isFormValue:Fe,formData:ie,handleChange:Te}),qe&&Me&&(0,d.Y)(M,{downloadsProp:qe,type:"Downloads",formData:ie,handleChange:Te}),ie.Downloads&&Me&&(0,d.Y)(U,{downloadProp:Me,formData:ie,isFormValue:Fe,handleChange:Te}),(0,d.Y)("div",{css:z},(0,d.Y)("input",{type:"checkbox",checked:ie.Agree,onChange:function(e){return Te(e,"Agree")}}),(0,d.Y)("p",{css:j},"By checking this box, you agree to ",(0,d.Y)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:S,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,d.Y)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:C,onClick:Ve,disabled:!me},(0,d.Y)("span",{className:"spectrum-Button-label"},"Create credential")))),_e?(0,d.Y)(R,{sideContent:null==_e?void 0:_e.children}):null),(0,d.Y)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,d.AH)("color:var(--spectrum-global-color-gray-800);@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){padding-left:0;}","")},"Have existing credentials?",(0,d.Y)("a",{href:"/console/",target:"_blank",rel:"noreferrer",css:k},"Go to Developer Console"))),be&&(0,d.Y)(s.default.Fragment,null,Ye?(0,d.Y)(b.y,{message:"Organization Changed",variant:"success",disable:8e3,customDisableFunction:we}):(0,d.Y)(b.y,{customDisableFunction:we,message:K&&!ne?G:!L&&ne&&"Your credentials were created successfully.",variant:L||K&&!ne?"error":"success",disable:L||K&&!ne?null:8e3})),Y&&!ne&&(0,d.Y)(f.R,{credentials:Be,downloadStatus:ie.Downloads}),ce&&(0,d.Y)(g.Y,{setModalOpen:ue,redirectToBeta:fe,setRedirectBetaProgram:ve,setAlertShow:we,alertShow:be,organizationChange:Ye,setOrganization:Oe,setOrganizationValue:ke}),L&&!K&&!ne&&(0,d.Y)(v.T,{errorMessage:null==r?void 0:r[v.T]}),ne&&!K&&(0,d.Y)(p.q,{credentialProps:r,response:Z,setShowCreateForm:Q,setShowCredential:te,organizationName:null==De?void 0:De.name,formData:ie,orgID:null==De?void 0:De.id}),fe&&(0,d.Y)(m.V,{joinBeta:null==r?void 0:r[m.V]}),!K&&!De&&!L&&(0,d.Y)(w.M,{developerAccessError:null==r?void 0:r[w.M],title:null==Be?void 0:Be.title,emailID:Pe}))},E=function(e){return e.side},T={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"},V=function(e){var n,t,r,o=e.nameProps,l=e.isFormValue,a=e.formData,i=e.handleChange,s=!D.test(a.CredentialName),c=0!==(null===(n=a.CredentialName)||void 0===n?void 0:n.length)&&s;return(0,d.Y)(h.CL,{isFormValue:l,fields:o,formData:a,isRed:c},(0,d.Y)("div",{css:T},(0,d.Y)("input",{type:"text",css:(0,d.AH)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:a.CredentialName,onChange:function(e){return i(e,"CredentialName")},placeholder:null==o?void 0:o.placeholder,maxLength:null==o?void 0:o.range}),(0,d.Y)("span",{css:(0,d.AH)("display :",(null===(t=a.CredentialName)||void 0===t?void 0:t.length)<3&&0!==(null===(r=a.CredentialName)||void 0===r?void 0:r.length)?"block":"none",";","")},(0,d.Y)(h._0,null))))},_=function(e){var n,t,r=e.originsProps,o=e.isFormValue,l=e.type,a=e.formData,i=e.handleChange,s=null===(n=a.AllowedOrigins)||void 0===n?void 0:n.split(",").map((function(e){return A.test(e.trim())})),c=null==s?void 0:s.every((function(e){return!0===e})),u=void 0!==a.AllowedOrigins&&!c&&0!==(null===(t=a.AllowedOrigins)||void 0===t?void 0:t.length);return(0,d.Y)(h.CL,{isFormValue:o,fields:r,type:l,formData:a,isRed:u},(0,d.Y)("textarea",{css:(0,d.AH)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:a.AllowedOrigins,placeholder:null==r?void 0:r.placeholder,onChange:function(e){return i(e,"AllowedOrigins")}}))},L={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},I={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},q={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"},M=function(e){var n=e.downloadsProp,t=e.handleChange,r=e.formData,o=n.label,l=n.contextHelpLabelForLink,a=n.contextHelpLink,i=n.contextHelpText,s=n.contextHelp,c=n.contextHelpHeading;return(0,d.Y)("div",{css:q},(0,d.Y)("input",{type:"checkbox",onChange:function(e){return t(e,"Downloads")},checked:r.Downloads}),(0,d.Y)("p",{css:I}," ",o," "),(0,d.Y)("div",{css:L},s&&(0,d.Y)(y.B,{heading:c,text:i,link:a,label:l})))},Z={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"},U=function(e){var n,t,r,o=e.downloadProp,l=e.formData,a=e.isFormValue,i=e.handleChange;return(0,d.Y)(s.default.Fragment,null,(null==o||null===(n=o.selectOptions)||void 0===n?void 0:n.length)>1&&(0,d.Y)(h.CL,{isFormValue:a,fields:o},(0,d.Y)("select",{css:Z,id:"selectBox",value:l.Download,onChange:function(e){return i(e,"Download")}},(null==o||null===(t=o.selectOptions)||void 0===t?void 0:t.length)>1&&(0,d.Y)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==o||null===(r=o.selectOptions)||void 0===r?void 0:r.map((function(e,n){return(0,d.Y)("option",{key:n,"data-link":e.href,value:e.title},e.title)})))))},R=function(e){var n=e.sideContent;return(0,d.Y)(s.default.Fragment,null,(0,d.Y)("div",{css:(0,d.AH)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){display:none;}","")}),(0,d.Y)("div",{css:(0,d.AH)("width:50%;@media screen and (min-width:",h.jd,") and (max-width:",h.cp,"){width:100%;}","")},(0,d.Y)(E,{side:n})))}}}]);
//# sourceMappingURL=987e9e88-daf592b3d590e1a64ed4.js.map